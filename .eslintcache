[{"/home/almaz/Рабочий стол/neobis-reset/src/index.js":"1","/home/almaz/Рабочий стол/neobis-reset/src/App.js":"2","/home/almaz/Рабочий стол/neobis-reset/src/pages/Reset.js":"3","/home/almaz/Рабочий стол/neobis-reset/src/pages/Home.js":"4"},{"size":258,"mtime":1608309152000,"results":"5","hashOfConfig":"6"},{"size":356,"mtime":1608312158780,"results":"7","hashOfConfig":"6"},{"size":3224,"mtime":1608311769588,"results":"8","hashOfConfig":"6"},{"size":654,"mtime":1608312385337,"results":"9","hashOfConfig":"6"},{"filePath":"10","messages":"11","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"lfrs5a",{"filePath":"12","messages":"13","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"14","messages":"15","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16","usedDeprecatedRules":"17"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/almaz/Рабочий стол/neobis-reset/src/index.js",[],"/home/almaz/Рабочий стол/neobis-reset/src/App.js",["20"],"/home/almaz/Рабочий стол/neobis-reset/src/pages/Reset.js",["21"],"import React, {useEffect, useState} from 'react';\nimport './Reset.css';\n\nconst Reset = (props) =>{\n    const [isLinkVerified, setIsLinkVerified] = useState(false);\n    const [pass1, setPass1] = useState('');\n    const [pass2, setPass2] = useState('');\n    const urlUid = props.match.params.uid;\n    const urlToken = props.match.params.token;\n\n    useEffect(() =>{\n        fetch(`http://neobisfms.herokuapp.com/api/user/reset-password/verify-token/`,{\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                uidb64: urlUid,\n                token: urlToken\n            })\n        }).then(response => response.json())\n        .then(res =>{\n            if(res.token){\n                console.log('Success')\n                setIsLinkVerified(true)\n            }\n        }).catch(err =>{\n            console.log(\"Failed\");\n            setIsLinkVerified(false)\n        })\n    }, []);\n\n    const handleSubmit = e =>{\n        e.preventDefault();\n\n        if(pass1 === pass2){\n            fetch('http://neobisfms.herokuapp.com/api/user/reset-password/complete-reset/', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    uidb64: urlUid,\n                    token: urlToken,\n                    password1: pass1,\n                    password2: pass2\n                })\n            })\n            .then(response => response.json())\n            .then(res =>{\n                alert(res.message);\n            })\n        }else{\n            alert('Пароли не совпадают')\n        }\n    }\n\n    return(\n        <div className=\"container\">\n            {\n                isLinkVerified ? (\n                    <div className=\"card\">\n                        <h5 className=\"text-center pt-3\">Введите новый пароль</h5>\n                        <form onSubmit={handleSubmit}>\n                            <div className=\"card-body\">\n                                <div className=\"form-group mb-3\">\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Введите новый пароль\" onChange={e => setPass1(e.target.value)} value={pass1} />\n                                </div>\n                                <div className=\"form-group\">\n                                    <input type=\"text\" className=\"form-control\" placeholder=\"Подтвердите новый пароль\" onChange={e => setPass2(e.target.value)} value={pass2} />\n                                </div>\n                            </div>\n                            <div className=\"text-center mt-3 mb-3\">\n                                <button className=\"btn btn-success\">Сбросить</button>\n                            </div>\n                        </form>\n                    </div>\n                ) : (\n                    <div>\n                        <h1>Данная ссылка просрочена!</h1>\n                    </div>\n                )\n            }\n            \n        </div>\n    )\n}\n\nexport default Reset",["22","23"],"/home/almaz/Рабочий стол/neobis-reset/src/pages/Home.js",[],{"ruleId":"24","severity":1,"message":"25","line":2,"column":25,"nodeType":"26","messageId":"27","endLine":2,"endColumn":33},{"ruleId":"28","severity":1,"message":"29","line":31,"column":8,"nodeType":"30","endLine":31,"endColumn":10,"suggestions":"31"},{"ruleId":"32","replacedBy":"33"},{"ruleId":"34","replacedBy":"35"},"no-unused-vars","'Redirect' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'urlToken' and 'urlUid'. Either include them or remove the dependency array.","ArrayExpression",["36"],"no-native-reassign",["37"],"no-negated-in-lhs",["38"],{"desc":"39","fix":"40"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [urlToken, urlUid]",{"range":"41","text":"42"},[984,986],"[urlToken, urlUid]"]